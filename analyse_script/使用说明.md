# 梦境分析系统 - 使用说明

## 优化内容

已将原本硬编码的梦境文本改为支持用户交互输入，现在系统支持以下功能：

### 1. 交互式模式（默认）

直接运行程序进入交互模式：

```bash
python dream_analyzer.py
```

**功能特点：**
- 🔄 **循环输入**：可以连续分析多个梦境
- 📝 **实时输入**：根据用户输入的梦境描述进行分析
- 🖼️ **图片支持**：可选择上传相关图片进行多模态分析
- 💾 **结果保存**：可将分析结果保存为文本文件
- 🚪 **优雅退出**：输入 `quit`、`exit`、`退出` 或 `q` 退出程序

**使用流程：**
1. 启动程序后，输入梦境描述
2. 选择是否上传相关图片（可选）
3. 查看详细的分析结果
4. 选择是否保存结果到文件
5. 继续输入下一个梦境或退出程序

### 2. 演示模式

运行预设的演示案例：

```bash
python dream_analyzer.py --demo
```

**演示内容：**
- 飞行梦境：自由与担忧的情绪对比
- 恋爱考试梦境：快乐与焦虑的混合情感
- 迷路梦境：焦虑和不安的心理状态

## 输入示例

### 文本输入示例：
```
请描述您的梦境: 我梦见自己在海边散步，海浪声很舒缓，但突然天空变暗了，我感到有些不安

是否有相关图片？(y/n): n

正在分析您的梦境...
```

### 带图片输入示例：
```
请描述您的梦境: 我梦见了一个神秘的森林，里面有很多奇怪的动物

是否有相关图片？(y/n): y
请输入图片路径: ./dream_image.jpg
```

## 分析结果格式

系统会提供以下分析内容：

```
==================================================
梦境分析结果
==================================================
📊 情绪分析: 快乐, 焦虑
🎯 主题分析: 自然, 水
🔑 关键词: 海边, 散步, 海浪, 天空, 不安
🧠 心理分析: 主要情绪倾向：快乐, 焦虑。梦境主题：自然, 水。心理解释：可能反映了内心的平静与潜在担忧的冲突。
🖼️ 图像描述: [如果上传了图片]
🎨 视觉化提示: 梦境场景包含自然, 水，关键元素：海边散步海浪声舒缓天空变暗不安，柔和的色调，宁静的氛围
==================================================
```

## 文件保存功能

选择保存结果时，系统会：
- 自动生成带时间戳的文件名（如：`dream_analysis_20241201_143022.txt`）
- 保存完整的分析结果
- 包含原始梦境描述和所有分析内容

## 错误处理

系统具备完善的错误处理机制：
- ✅ 空输入检测
- ✅ 图片文件存在性验证
- ✅ 程序异常捕获
- ✅ 用户中断处理（Ctrl+C）

## 技术特点

### 智能适配
- 自动检测PyTorch是否安装
- 无依赖时自动切换到演示模式
- 兼容不同的运行环境

### 用户友好
- 中英文混合命令支持
- 直观的emoji图标显示
- 清晰的操作提示
- 优雅的结果展示

### 扩展性强
- 模块化设计便于功能扩展
- 支持命令行参数
- 易于集成到其他系统

## 课程展示建议

### 1. 基础功能演示
```bash
# 演示预设案例
python dream_analyzer.py --demo

# 交互式输入演示
python dream_analyzer.py
```

### 2. 展示要点
- **实用性**：从硬编码改为用户输入，更贴近实际应用
- **交互性**：支持连续输入和实时反馈
- **完整性**：包含输入、处理、输出、保存的完整流程
- **健壮性**：具备完善的错误处理和异常捕获

### 3. 技术亮点
- 多模态分析（文本+图像）
- 心理学知识应用
- 用户体验优化
- 代码结构清晰

这样的优化使得系统更加实用和用户友好，符合实际应用场景的需求。